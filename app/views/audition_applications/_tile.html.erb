<article class="style1 tile <%= application.confirmed_attendance ? 'confirmed' : 'not-confirmed' %>" id="votes_<%= application.id %>">
  <div class="text-center m-auto pb-3" style="background-color: #222; color: #fff;width:60%; padding: 5px;z-index: 1000 !important;">
    <%= application.vote_result %>
  </div>
  <!-- Profile Image -->
  <span class="image">
    <% if application.profile_image.present? %>
      <%= image_tag(application.profile_image) %>
    <% else %>
      <%= cl_image_tag application.photo.key %>
    <% end %>
  </span>

  <!-- Load show view dynamically in a Turbo Frame -->
  <a href="<%= audition_application_path(application) %>" data-turbo-frame="_top">
    <h3 id="text-tiles"><%= application.first_name %> <%= application.last_name %></h3>
    <br>
    <h5><%= application.nationality %></h5>
    <div class="content">
      <h5><%= application.status %></h5>
    </div>
  </a>
  <% if current_user.admin? || current_user.director? || current_user.guest?%>
    <div class="status-buttons d-flex justify-content-center">
      <% ['accepted', 'rejected'].each do |status| %>
        <%= form_with model: application, url: audition_application_path(application), method: :patch, local: true do |f| %>
          <%= hidden_field_tag :audition_application_status, status %>
          <%= f.button type: :submit, class: "button_status button_status--#{status} mx-1" do %>
            <span><%= status == 'accepted' ? 'Accept' : 'Reject' %></span>
          <% end %>
        <% end %>
      <% end %>
    </div>
  <% end %>
</article>
