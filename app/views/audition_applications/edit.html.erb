<div class="m-auto mt-3 mb-3" style="width:70%;" data-controller="file-upload">
  <h2>Modifier la candidature</h2>

  <%= simple_form_for(@application, method: :patch) do |f| %>
    <%= f.input :first_name, label: "Prénom", required: true %>
    <%= f.input :last_name, label: "Nom de famille", required: true %>
    <%= f.input :date_of_birth, as: :date, label: "Date de naissance", required: true, start_year: 1900, end_year: Date.today.year %>
    <%= f.input :address, label: "Address", required: true %>
    <%= f.input :nationality, label: "Nationalité", required: true %>
    <%= f.input :height, label: "Taille", required: true %>
    <%= f.input :gender, collection: ["male", "female", "non-binary", "other"], selected: @application.gender %>
    <%= f.hidden_field :status, value: @application.status %>
    <%= f.input :video_link, label: "Lien vers la vidéo", required: true %>
    <div class="custom-file-container">
      <div class="custom-file">
      <label for="cv-upload" class="custom-file-label">Upload CV</label>
      <span data-file-upload-target="cvLabel">No file chosen</span>
      <%= f.input :cv, as: :file, required: true,
                    input_html: { class: "custom-file-input", id: "cv-upload",
                                  "data-action" => "change->file-upload#updateFileName",
                                  "data-label-target" => "cvLabel" },
                    accept: "application/pdf",
                    label: false %>
    </div>

    <!-- Profile Image Upload -->
    <div class="custom-file">
      <label for="profile-image-upload" class="custom-file-label">Upload Photo</label>
      <span data-file-upload-target="imageLabel">No file chosen</span>
      <%= f.input :profile_image, as: :file, required: true,
                    input_html: { class: "custom-file-input", id: "profile-image-upload",
                                  "data-action" => "change->file-upload#updateFileName",
                                  "data-label-target" => "imageLabel" },
                    accept: "image/png, image/jpeg, image/gif, image/jpg, image/webp",
                    label: false %>
    </div>
    </div>

    <%= f.button :submit, 'Enregistrer les modifications', class: "submit-button" %>
  <% end %>
</div>
